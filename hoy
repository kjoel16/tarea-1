public async Task<TokenResponse> ObtenerTokenAsync()
{
    try
    {
        var client  = _factory.CreateClient("mtls"); // o el que uses
        var config  = ConnectionConfig.GetJwtConsumir();

        var fields = new Dictionary<string, string>
        {
            ["Client_id"]     = config.client_Id,
            ["Client_secret"] = config.client_secret,
            // Solo si tu API los exige, descomenta:
            // ["Grant_type"]    = config.grant_type,
            // ["Scope"]         = config.scope
        };

        using var content = new FormUrlEncodedContent(fields); // Content-Type: application/x-www-form-urlencoded
        var response = await client.PostAsync(config.hostTkn, content);

        response.EnsureSuccessStatusCode();

        var json = await response.Content.ReadAsStringAsync();
        var token = JsonSerializer.Deserialize<TokenResponse>(json,
            new JsonSerializerOptions { PropertyNameCaseInsensitive = true });

        return token!;
    }
    catch (Exception ex)
    {
        throw new Exception("La configuración del endpoint de token falló.", ex);
    }
}
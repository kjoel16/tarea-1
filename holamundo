public static class ConnectionConfig
{
    public static TokenRequest GetJwtConsumir(string environment = "DEV")
    {
        string jsonPath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "ConnectionData.json");
        string jsonText = File.ReadAllText(jsonPath);

        var allConfig = JsonSerializer.Deserialize<Dictionary<string, Dictionary<string, object>>>(jsonText);

        if (allConfig.TryGetValue(environment, out var envSettings) &&
            envSettings.TryGetValue("JWTConsumir", out var jwtConsumirRaw))
        {
            var jsonJwt = jwtConsumirRaw.ToString();
            var jwtConfig = JsonSerializer.Deserialize<TokenRequest>(jsonJwt);
            return jwtConfig;
        }

        throw new Exception("No se pudo obtener la configuraci√≥n JWTConsumir.");
    }
}